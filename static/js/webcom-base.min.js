var Webcom={};window.console||(window.console={log:function(){}}),Webcom.handleExternalLinks=function(e){e("a:not(.ignore-external)").each(function(){var t=e(this).attr("href"),n=window.location.host.toLowerCase();t&&t.search(n)<0&&-1<t.search("http")&&(e(this).attr("target","_blank"),e(this).addClass("external"))})},Webcom.loadMoreSearchResults=function(i){var o="#search-results .more",s="new-start",a=null,l=null,e=function(){!function t(){if(l)setTimeout(function(){t()},100);else if(null!=a){var n=i(a).find("#search-results .result-list .item");i("."+s).removeClass(s),i(n[0]).addClass(s),i("#search-results .result-list").append(n);var e=i(a).find(o);e.length<1&&i(o).remove(),i(o).attr("href",e.attr("href")),a=null}}(),function(){l=!0;var t=i(o).attr("href");t&&i.ajax({url:t,success:function(t){a=t},complete:function(){l=!1}})}()};0<i(o).length&&(e(),i(o).click(function(){e();var t=i("."+s).offset().top-10,n="body";return(i.browser.mozilla||i.browser.msie)&&(n="html"),i(n).animate({scrollTop:t},1e3),!1}))},Webcom.slideshow=function(h){h.fn.slideShow=function(t){var n=function(t,n,e){n.css({right:s}),n.show(),t.animate({right:"-="+s},a.transition_length,function(){n.css({right:0})}),n.animate({right:0},a.transition_length,function(){n.css({right:0}),e()})};n.init=function(t,n){var e=h(n[0]);t.css({position:"relative",overflow:"hidden"}),n.css({position:"absolute",display:"none",width:s+"px"}),e.show()};var e=function(t,n,e){t.animate({opacity:"0.0"},a.transition_length,function(){t.css({display:"none",opacity:"1.0"})}),n.css({display:"block",opacity:"0.0"}),n.animate({opacity:"1.0"},a.transition_length,function(){n.css({display:"block",opacity:"1.0"}),e()})};e.init=function(t,n){var e=h(n[0]);h.browser.msie&&t.css({"background-color":"#000"}),t.css({position:"relative",overflow:"hidden"}),n.css({position:"absolute",display:"none"}),e.show()};var i={slide:n,fade:e},a=h.extend({},{transition_length:1e3,cycle_length:5e3,animation:"slide"},t),o=h(this),s=(o.height(),o.width()),l=o.children(),r=!0;h(o).mouseenter(function(){r=!1}),h(o).mouseleave(function(){r=!0}),o.attr("data-tranlen")&&(a.transition_length=parseInt(o.attr("data-tranlen"))),o.attr("data-cyclelen")&&(a.cycle_length=parseInt(o.attr("data-cyclelen")));var c=i[a.animation];return c.init(o,l),setTimeout(function(){!function t(n,e){if(!(n.length<1)){var i=(e+1)%n.length,o=h(n[e]),s=h(n[i]);r?c(o,s,function(){setTimeout(function(){t(n,i)},a.cycle_length)}):setTimeout(function(){t(n,i-1)},100)}}(l,0)},a.cycle_length)},h(".slideshow.fade").slideShow({transition_length:750,cycle_length:2e3,animation:"fade"}),h(".slideshow.slide").slideShow({transition_length:750,cycle_length:2e3,animation:"slide"})};
Array.prototype.filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=[],i=arguments[1],r=0;r<o;r++)if(r in e){var s=e[r];t.call(i,s,r,e)&&n.push(s)}return n});var WebcomAdmin={__init__:function(t){t('input[type="file"]').parents("form").attr("enctype","multipart/form-data"),t('input[type="file"]').parents("form").attr("encoding","multipart/form-data")},shortcodeTool:function(o){var t,i=this;(i.metabox=o("#shortcodes-metabox"),i.metabox.length<1)?console.log("no meta"):(i.form=i.metabox.find("form"),i.search=i.metabox.find("#shortcode-search"),i.button=i.metabox.find("button"),i.results=i.metabox.find("#shortcode-results"),i.select=i.metabox.find("#shortcode-select"),i.form_url=i.metabox.find("#shortcode-form").val(),i.text_url=i.metabox.find("#shortcode-text").val(),i.shortcodes=(t=[],i.select.children(".shortcode").each(function(){t.push(o(this).val())}),t),i.shortcodeAction=function(t){send_to_editor("["+t+"]")},i.searchAction=function(){i.results.children().remove();var n=i.search.val();if(!(n.length<1)){var t=i.shortcodes.filter(function(t,e,o){return t.match(n)});1<t.length&&i.results.removeClass("empty"),o(t).each(function(){var t=o("<li />"),e=o("<a />");e.attr("href","#"),e.addClass("shortcode"),e.text(this.valueOf()),t.append(e),i.results.append(t)}),1<t.length?i.results.removeClass("empty"):i.results.addClass("empty")}},i.buttonAction=function(){i.searchAction()},i.itemAction=function(){var t=o(this).text();return i.shortcodeAction(t),!1},i.selectAction=function(){var t=o(this).find(".shortcode:selected");if(!(t.length<1)){var e=t.val();i.shortcodeAction(e)}},i.results.width(i.search.outerWidth()),i.search.keyup(function(t){if(i.searchAction(),13==t.keyCode)return!1}),i.button.click(i.buttonAction),i.select.change(i.selectAction),i.results.find("li a.shortcode").live("click",i.itemAction))},themeOptions:function(i){var r=this;r.active=null,r.parent=i(".i-am-a-fancy-admin"),r.sections=i(".i-am-a-fancy-admin .fields .section"),r.buttons=i(".i-am-a-fancy-admin .sections .section a"),this.showSection=function(t){var e=i(this),o=e.attr("href"),n=i(o);return r.buttons.removeClass("active"),e.addClass("active"),r.active.hide(),r.active=n,r.active.show(),history.pushState({},"",e.attr("href")),r.parent.find('input[name="_wp_http_referer"]').val(window.location),!1},this.__init__=function(){r.active=r.sections.first(),r.sections.not(r.active).hide(),r.buttons.first().addClass("active"),r.buttons.click(this.showSection),window.location.hash&&r.buttons.filter('[href="'+window.location.hash+'"]').click();var t=setInterval(function(){i(".updated").fadeOut(1e3),clearInterval(t)},2e3)},0<r.parent.length&&r.__init__()}};!function(t){WebcomAdmin.__init__(t),WebcomAdmin.themeOptions(t),WebcomAdmin.shortcodeTool(t)}(jQuery);
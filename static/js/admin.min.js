Array.prototype.filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),s=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var c=[],o=arguments[1],n=0;n<s;n++)if(n in e){var l=e[n];t.call(o,l,n,e)&&c.push(l)}return c});var WebcomAdmin={__init__:function(t){t('input[type="file"]').parents("form").attr("enctype","multipart/form-data"),t('input[type="file"]').parents("form").attr("encoding","multipart/form-data")},shortcodeTool:function(s){var t;(cls=this,cls.metabox=s("#shortcodes-metabox"),cls.metabox.length<1)?console.log("no meta"):(cls.form=cls.metabox.find("form"),cls.search=cls.metabox.find("#shortcode-search"),cls.button=cls.metabox.find("button"),cls.results=cls.metabox.find("#shortcode-results"),cls.select=cls.metabox.find("#shortcode-select"),cls.form_url=cls.metabox.find("#shortcode-form").val(),cls.text_url=cls.metabox.find("#shortcode-text").val(),cls.shortcodes=(t=new Array,cls.select.children(".shortcode").each(function(){t.push(s(this).val())}),t),cls.shortcodeAction=function(t){send_to_editor("["+t+"]")},cls.searchAction=function(){cls.results.children().remove();var c=cls.search.val();if(!(c.length<1)){var t=cls.shortcodes.filter(function(t,e,s){return t.match(c)});1<t.length&&cls.results.removeClass("empty"),s(t).each(function(){var t=s("<li />"),e=s("<a />");e.attr("href","#"),e.addClass("shortcode"),e.text(this.valueOf()),t.append(e),cls.results.append(t)}),1<t.length?cls.results.removeClass("empty"):cls.results.addClass("empty")}},cls.buttonAction=function(){cls.searchAction()},cls.itemAction=function(){var t=s(this).text();return cls.shortcodeAction(t),!1},cls.selectAction=function(){var t=s(this).find(".shortcode:selected");if(!(t.length<1)){var e=t.val();cls.shortcodeAction(e)}},cls.results.width(cls.search.outerWidth()),cls.search.keyup(function(t){if(cls.searchAction(),13==t.keyCode)return!1}),cls.button.click(cls.buttonAction),cls.select.change(cls.selectAction),cls.results.find("li a.shortcode").live("click",cls.itemAction))},themeOptions:function(o){cls=this,cls.active=null,cls.parent=o(".i-am-a-fancy-admin"),cls.sections=o(".i-am-a-fancy-admin .fields .section"),cls.buttons=o(".i-am-a-fancy-admin .sections .section a"),this.showSection=function(t){var e=o(this),s=e.attr("href"),c=o(s);return cls.buttons.removeClass("active"),e.addClass("active"),cls.active.hide(),cls.active=c,cls.active.show(),history.pushState({},"",e.attr("href")),cls.parent.find('input[name="_wp_http_referer"]').val(window.location),!1},this.__init__=function(){cls.active=cls.sections.first(),cls.sections.not(cls.active).hide(),cls.buttons.first().addClass("active"),cls.buttons.click(this.showSection),window.location.hash&&cls.buttons.filter('[href="'+window.location.hash+'"]').click();var t=setInterval(function(){o(".updated").fadeOut(1e3),clearInterval(t)},2e3)},0<cls.parent.length&&cls.__init__()}};!function(t){WebcomAdmin.__init__(t),WebcomAdmin.themeOptions(t),WebcomAdmin.shortcodeTool(t)}(jQuery);